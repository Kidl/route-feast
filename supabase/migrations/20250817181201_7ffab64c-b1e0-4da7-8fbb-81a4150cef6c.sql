-- Insert all Pedersgata restaurants
INSERT INTO public.restaurants (name, description, address, city, country, phone, email, website, lat, lng, status) VALUES 
  ('An Nam', 'En middag på An Nam er som en reise gjennom Vietnam, fra rismarkene i nord til havnene i sør. Østens krydder og urter kombineres med kortreiste, norske råvarer.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 48', 'post@annamstavanger.no', 'https://annamstavanger.no', 58.9700, 5.7331, 'active'),
  ('Bravo', 'Á la carte meny med enkle småretter og snacks. Råvarene er kortreiste og varieres etter sesong. Vinliste med naturviner. Omtalt i Michelin Guide. Overkommelig pris.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 84 38 40', 'post@bravostavanger.no', 'https://bravostavanger.no', 58.9700, 5.7331, 'active'),
  ('Bellies', 'Restauranten bruker utelukkende ingredienser fra planteriket og komponerer fantastiske retter som tilfredsstiller både øyet og ganen. Spisestedet er anbefalt i Michelin Guide.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 84 38 40', 'post@belliesstavanger.no', 'https://belliesstavanger.no', 58.9700, 5.7331, 'active'),
  ('Restaurant Broken', 'Med spesialisering på moderne norsk mat, fisk, sjømat og vegansk mat setter kokk og innehaver Alan Kaye sin ære i å tilby en raffinert kulinarisk opplevelse hvor hver rett er laget fra bunnen av med de ferskeste ingredienser.', 'Langgata 9, Stavanger', 'Stavanger', 'Norway', '+47 400 00 000', 'post@restaurantbroken.no', 'https://restaurantbroken.no', 58.9700, 5.7331, 'active'),
  ('Casa Gio', 'Hos Casa Gio serveres det mat laget av kvalitetsråvarer, og med få kombinasjoner. Fersk pasta, myk ravioli, rykende varm tagliatelle, risotto og alt det gode man forbinder med det italienske kjøkken.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 44', 'post@casagio.no', 'https://casagio.no', 58.9700, 5.7331, 'active'),
  ('Delicatessen Tapasbar', 'Hos Delicatessen kan du senke skuldrene og nyte et glass vin og spise deilige tapas av mange ulike slag. Her finner alle noe de liker å spise og maten er som skapt for å deles i hyggelig lag enten du sitter rundt et bord eller nyter den til et glass vin i baren.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 45', 'post@delicatessentapasbar.no', 'https://delicatessentapasbar.no', 58.9700, 5.7331, 'active'),
  ('Hekkan Burger', 'Byenst beste burgere lages for hånd på huset, av det aller beste kjøttet fra Prima Jæren, og grilles deretter på biologisk trekull. Severes med godt, lokalprodusert brioche-brød.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 46', 'post@hekkanburger.no', 'https://hekkanburger.no', 58.9700, 5.7331, 'active'),
  ('Istanbul Pizza & Kebab', 'Istanbul byr på Tradisjonelle tyrkiske retter og take away. Forrykende god kebab, falafel og linsesuppe og et variert utvalg pizza, og alltid nybakte pitabrød.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 47', 'post@istanbulpizza.no', 'https://istanbulpizza.no', 58.9700, 5.7331, 'active'),
  ('Kansui', 'Kansui restaurant serverer byens beste japan-style ramen! Flere varianter på menyen. Her kan du spise som en japaner og nyte måltidet i lange slurp!', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 48', 'post@kansui.no', 'https://kansui.no', 58.9700, 5.7331, 'active'),
  ('Restaurant K2', 'Restauranten har fokus på å jobbe så økologisk, lokalt og bærekraftig som mulig, i alle ledd, og spisestedet har blitt belønnet med både Michelin-stjerne og bærekraftskløver.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 84 37 40', 'post@restaurantk2.no', 'https://restaurantk2.no', 58.9700, 5.7331, 'active'),
  ('Meze Restaurant', 'Middagsretter og småretter fra Middelhavslandene som serveres alene eller sammen til et helhetlig måltid. Meze er perfekt å dele med venner!', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 49', 'post@mezerestaurant.no', 'https://mezerestaurant.no', 58.9700, 5.7331, 'active'),
  ('Miyako', 'Asian fusion konsept inspirert av flere østlige, asiatiske land. Et bredt utvalg av sushi, sashimi, tempura og varmretter, samt et utvalg vegetar- og veganske retter.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 50', 'post@miyako.no', 'https://miyako.no', 58.9700, 5.7331, 'active'),
  ('Molinå Bakery & Eatery', 'Molinå er et surdeigsbakeri, spiseri og kafè i Verksgata 17 i Stavanger. De bruker lokale og økologiske ingredienser, og lager produkter som er bærekraftige for miljøet.', 'Verksgata 17, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 51', 'post@molina.no', 'https://molina.no', 58.9700, 5.7331, 'active'),
  ('Noras Kitchen', 'Pakistansk/indisk familierestaurant som kombinerer tradisjonsrike oppskrifter med det moderne. Alle måltider er Halal-vennlige. Spis inne, take away og catering.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 52', 'post@noraskitchen.no', 'https://noraskitchen.no', 58.9700, 5.7331, 'active'),
  ('Panzanella Pizzeria', 'Drømmer du om ekte italiensk pizza? Da er Panzanella Pizzeraia stedet du bør oppsøke! Her lager de pizza av aller høyeste kvalitet, med de beste råvarer i både bunner og toppinger.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 53', 'post@panzanella.no', 'https://panzanella.no', 58.9700, 5.7331, 'active'),
  ('Sabi Omakase', 'Jubelen stod i taket i 2017 da sushi-kokken Roger Asakil Joya hos Sabi Omakase fikk en stjerne i den prestisjefylte Michelin Guide. Stjernen er fremdeles i god behold.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 54', 'post@sabiomakase.no', 'https://sabiomakase.no', 58.9700, 5.7331, 'active'),
  ('Yips Dumplings & Digg', 'Her får du servert et bredt utvalg av fra det asiatiske kjøkken. Yips Dumplings & Digg benytter lokale og kortreiste råvarer til å lage spennende og smakfulle retter.', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 55', 'post@yips.no', 'https://yips.no', 58.9700, 5.7331, 'active'),
  ('Zouq', 'Hos Zouq får du nydelige retter basert på tradisjonsrike pakistanske oppskrifter. Spis inne, take away og catering', 'Pedersgata, Stavanger', 'Stavanger', 'Norway', '+47 51 89 44 56', 'post@zouq.no', 'https://zouq.no', 58.9700, 5.7331, 'active');

-- Create menus for each restaurant
INSERT INTO public.menus (restaurant_id, title, language, is_active)
SELECT 
  r.id,
  r.name || ' Menu',
  'no',
  true
FROM public.restaurants r
WHERE r.name IN ('An Nam', 'Bravo', 'Bellies', 'Restaurant Broken', 'Casa Gio', 'Delicatessen Tapasbar', 'Hekkan Burger', 'Istanbul Pizza & Kebab', 'Kansui', 'Restaurant K2', 'Meze Restaurant', 'Miyako', 'Molinå Bakery & Eatery', 'Noras Kitchen', 'Panzanella Pizzeria', 'Sabi Omakase', 'Yips Dumplings & Digg', 'Zouq');

-- Add sample dishes for An Nam (Vietnamese)
INSERT INTO public.dishes (menu_id, name, description, price, dish_type, currency, available_for_route)
SELECT 
  m.id,
  dish_name,
  dish_description,
  dish_price,
  dish_type,
  'NOK',
  true
FROM public.menus m
JOIN public.restaurants r ON m.restaurant_id = r.id
CROSS JOIN (
  VALUES 
    ('Pho Bo', 'Tradisjonell vietnamesisk nudelsuppe med oksekjøtt, ferske urter og ris-nudler', 189, 'main'),
    ('Banh Mi', 'Vietnamesisk baguette med marinert svinekjøtt, pickles og koriander', 149, 'starter'),
    ('Fresh Spring Rolls', 'Ferske vårruller med reker, salat og mintblader', 129, 'starter'),
    ('Grilled Beef Salad', 'Grillet oksekjøtt med frisk salat og vietnamesisk dressing', 219, 'main'),
    ('Vietnamese Coffee', 'Tradisjonell vietnamesisk kaffe med kondensert melk', 49, 'drink')
) AS dishes(dish_name, dish_description, dish_price, dish_type)
WHERE r.name = 'An Nam';

-- Add sample dishes for Bravo (Modern Nordic)
INSERT INTO public.dishes (menu_id, name, description, price, dish_type, currency, available_for_route)
SELECT 
  m.id,
  dish_name,
  dish_description,
  dish_price,
  dish_type,
  'NOK',
  true
FROM public.menus m
JOIN public.restaurants r ON m.restaurant_id = r.id
CROSS JOIN (
  VALUES 
    ('Fermentert gulrot', 'Sesongfermentert gulrot med hasselnøtt og timian', 95, 'starter'),
    ('Rogn og brioche', 'Lokalt rogn servert på varm brioche med seterrømme', 165, 'starter'),
    ('Laks fra Hardanger', 'Røkt laks med agurkemuls og dill', 245, 'main'),
    ('Entrecôte', 'Norsk entrecôte med rotgrønnsaker og bearnaise', 285, 'main'),
    ('Naturvin', 'Utvalg av naturviner fra Europa', 89, 'drink')
) AS dishes(dish_name, dish_description, dish_price, dish_type)
WHERE r.name = 'Bravo';

-- Add sample dishes for Bellies (Plant-based)
INSERT INTO public.dishes (menu_id, name, description, price, dish_type, currency, available_for_route)
SELECT 
  m.id,
  dish_name,
  dish_description,
  dish_price,
  dish_type,
  'NOK',
  true
FROM public.menus m
JOIN public.restaurants r ON m.restaurant_id = r.id
CROSS JOIN (
  VALUES 
    ('Beet Tartare', 'Marinert rødbete-tartar med kapers og syltet løk', 145, 'starter'),
    ('Mushroom Risotto', 'Kremet sopprisotto med trøffelolje og cashew-parmesan', 195, 'main'),
    ('Cauliflower Steak', 'Grillet blomkålbiff med tahini-saus og granateple', 185, 'main'),
    ('Raw Chocolate Tart', 'Rå sjokoladeterte med avokado og bær', 95, 'dessert'),
    ('Kombucha', 'Hjemmelaget kombucha med ingefær og sitron', 65, 'drink')
) AS dishes(dish_name, dish_description, dish_price, dish_type)
WHERE r.name = 'Bellies';

-- Add sample dishes for Casa Gio (Italian)
INSERT INTO public.dishes (menu_id, name, description, price, dish_type, currency, available_for_route)
SELECT 
  m.id,
  dish_name,
  dish_description,
  dish_price,
  dish_type,
  'NOK',
  true
FROM public.menus m
JOIN public.restaurants r ON m.restaurant_id = r.id
CROSS JOIN (
  VALUES 
    ('Antipasto', 'Utvalg av italienske delikatesser med oliven og ost', 165, 'starter'),
    ('Tagliatelle al Tartufo', 'Fersk tagliatelle med trøffel og parmesan', 245, 'main'),
    ('Ravioli di Ricotta', 'Hjemmelaget ravioli fylt med ricotta og spinat', 215, 'main'),
    ('Risotto ai Porcini', 'Kremet risotto med steinsopp og hvitvin', 225, 'main'),
    ('Tiramisu', 'Klassisk italiensk tiramisu med mascarpone', 85, 'dessert')
) AS dishes(dish_name, dish_description, dish_price, dish_type)
WHERE r.name = 'Casa Gio';

-- Add sample dishes for Kansui (Japanese Ramen)
INSERT INTO public.dishes (menu_id, name, description, price, dish_type, currency, available_for_route)
SELECT 
  m.id,
  dish_name,
  dish_description,
  dish_price,
  dish_type,
  'NOK',
  true
FROM public.menus m
JOIN public.restaurants r ON m.restaurant_id = r.id
CROSS JOIN (
  VALUES 
    ('Tonkotsu Ramen', 'Kremet svinebuljong med ramen-nudler og chashu', 189, 'main'),
    ('Miso Ramen', 'Miso-basert buljong med grønnsaker og egg', 179, 'main'),
    ('Gyoza', 'Dampede dumplings fylt med svinekjøtt og kål', 95, 'starter'),
    ('Edamame', 'Salte edamame-bønner med havsalt', 65, 'starter'),
    ('Japanese Beer', 'Asahi eller Kirin øl', 75, 'drink')
) AS dishes(dish_name, dish_description, dish_price, dish_type)
WHERE r.name = 'Kansui';

-- Add sample dishes for Restaurant K2 (Michelin star)
INSERT INTO public.dishes (menu_id, name, description, price, dish_type, currency, available_for_route)
SELECT 
  m.id,
  dish_name,
  dish_description,
  dish_price,
  dish_type,
  'NOK',
  true
FROM public.menus m
JOIN public.restaurants r ON m.restaurant_id = r.id
CROSS JOIN (
  VALUES 
    ('Østers fra Limfjorden', 'Ferske østers med eple og vanilje', 145, 'starter'),
    ('Kamskjell fra Frøya', 'Kamskjell med jernurt og brennesle', 195, 'starter'),
    ('Torsk fra Lofoten', 'Vilt torsk med jordskokk og kaviar', 345, 'main'),
    ('Lam fra Jæren', 'Lammefilet med timian og rotgrønnsaker', 365, 'main'),
    ('Rabarbra og vanilje', 'Rabarbrakompott med vaniljeis og kanel', 125, 'dessert')
) AS dishes(dish_name, dish_description, dish_price, dish_type)
WHERE r.name = 'Restaurant K2';

-- Add sample dishes for Sabi Omakase (Michelin star sushi)
INSERT INTO public.dishes (menu_id, name, description, price, dish_type, currency, available_for_route)
SELECT 
  m.id,
  dish_name,
  dish_description,
  dish_price,
  dish_type,
  'NOK',
  true
FROM public.menus m
JOIN public.restaurants r ON m.restaurant_id = r.id
CROSS JOIN (
  VALUES 
    ('Omakase 12 pieces', 'Kokkes utvalg av 12 sushi-biter med sesongråvarer', 695, 'main'),
    ('Omakase 16 pieces', 'Utvidet omakase med 16 premium sushi-biter', 895, 'main'),
    ('Chutoro Nigiri', 'Medium fett tunfisk fra Japan', 95, 'starter'),
    ('Uni Nigiri', 'Sjøpinnsvin fra Hokkaido', 125, 'starter'),
    ('Sake Flight', 'Utvalg av premium sake fra Japan', 295, 'drink')
) AS dishes(dish_name, dish_description, dish_price, dish_type)
WHERE r.name = 'Sabi Omakase';

-- Add remaining restaurants' basic menus
INSERT INTO public.dishes (menu_id, name, description, price, dish_type, currency, available_for_route)
SELECT 
  m.id,
  dish_name,
  dish_description,
  dish_price,
  dish_type,
  'NOK',
  true
FROM public.menus m
JOIN public.restaurants r ON m.restaurant_id = r.id
CROSS JOIN (
  VALUES 
    ('Signature Dish', 'Restaurantens signaturrett', 195, 'main'),
    ('Forrett', 'Dagens forrett', 95, 'starter'),
    ('Dessert', 'Hjemmelaget dessert', 85, 'dessert')
) AS dishes(dish_name, dish_description, dish_price, dish_type)
WHERE r.name IN ('Restaurant Broken', 'Delicatessen Tapasbar', 'Hekkan Burger', 'Istanbul Pizza & Kebab', 'Meze Restaurant', 'Miyako', 'Molinå Bakery & Eatery', 'Noras Kitchen', 'Panzanella Pizzeria', 'Yips Dumplings & Digg', 'Zouq');

-- Add dish tags for popular dishes
INSERT INTO public.dish_tags (dish_id, tag)
SELECT d.id, 'populær'
FROM public.dishes d
JOIN public.menus m ON d.menu_id = m.id
JOIN public.restaurants r ON m.restaurant_id = r.id
WHERE d.name IN ('Pho Bo', 'Tonkotsu Ramen', 'Omakase 12 pieces', 'Tagliatelle al Tartufo', 'Mushroom Risotto', 'Signature Dish');

-- Add standard allergen information
INSERT INTO public.dish_allergens (dish_id, allergen_code)
SELECT d.id, allergen
FROM public.dishes d
JOIN public.menus m ON d.menu_id = m.id
JOIN public.restaurants r ON m.restaurant_id = r.id
CROSS JOIN (
  VALUES 
    ('Tagliatelle al Tartufo', 'gluten'),
    ('Ravioli di Ricotta', 'gluten'),
    ('Tiramisu', 'gluten'),
    ('Gyoza', 'gluten'),
    ('Japanese Beer', 'gluten')
) AS allergens(dish_name, allergen)
WHERE d.name = allergens.dish_name;